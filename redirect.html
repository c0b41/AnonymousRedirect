<!DOCTYPE html>
<html lang="en">
<head>
    <title>Anonymous redirect</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- http://caniuse.com/#feat=referrer-policy -->
    <meta name="referrer" content="no-referrer" />
    <!-- For Edge and Safari -->
    <meta name="referrer" content="never" />

    <style>
        :root {
            --background-color: #ffffff;
            --text-color: #4d4d4d;
            --link-color: #67b279;
            --code-background: #f7f7f7;
            --button-color: #67b279;
            --button-hover-color: #58a273;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --background-color: #1a1a1a;
                --text-color: #c9c9c9;
                --link-color: #8cce9f;
                --code-background: #2d2d2d;
            }
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Arial, sans-serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 1.428571429;
            color: var(--text-color);
            background-color: var(--background-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .main {
            padding: 70px 15px;
            text-align: center;
        }

        .title {
            margin: 0 0 30px;
            line-height: 1.2;
        }

        .text {
            max-width: 800px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }

        code {
            display: block;
            word-break: break-word;
            background-color: var(--code-background);
            color: var(--link-color);
            padding: 10px;
            border-radius: 4px;
            margin: 15px auto;
            max-width: fit-content;
            transition: background-color 0.3s, color 0.3s;
        }

        .button {
            display: inline-block;
            vertical-align: middle;
            min-width: 200px;
            margin-bottom: 30px;
            background-image: none;
            padding: 13px 15px;
            font-family: inherit;
            font-size: 15px;
            font-weight: 400;
            text-align: center;
            text-transform: uppercase;
            text-decoration: none;
            white-space: nowrap;
            color: #fff;
            background-color: var(--button-color);
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .button:hover,
        .button:focus {
            background-color: var(--button-hover-color);
            outline: 0;
        }

        footer {
            max-width: 400px;
            margin: 0 auto;
            font-size: 13px;
        }

        .link {
            color: var(--link-color);
            transition: color 0.3s;
        }

        .link:hover,
        .link:focus {
            text-decoration: none;
        }

        .wrap {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="main">
        <h1 class="title">
            Anonymous redirect
        </h1>

        <p class="text">
            You are about to go to the following page:
            <code id="currentUrl">https://example.org/</code>
        </p>

        <div class="wrap">
            <button type="button" class="button" id="redirectButton">
                Take me there
            </button>
        </div>

        <footer>
            The point of this page is to hide the source page from the target website to prevent all kinds of tracking.
        </footer>
    </div>

    <script type="text/javascript">
        if (!String.prototype.endsWith) {
            Object.defineProperty(String.prototype, 'endsWith', {
                value: function (searchString, position) {
                    var subjectString = this.toString();
                    if (position === undefined || position > subjectString.length) {
                        position = subjectString.length;
                    }
                    position -= searchString.length;
                    var lastIndex = subjectString.indexOf(searchString, position);
                    return lastIndex !== -1 && lastIndex === position;
                },
            });
        }

        function getParameterByName(name, url) {
            if (!url) {
                url = window.location.href;
            }
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        function performRedirect(url) {
            if (url) {
                window.location.href = url;
            } else {
                window.location.href = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';
            }
        }

        var url = getParameterByName('url');
        var auto = getParameterByName('auto');
        var currentUrl = document.getElementById('currentUrl');

        if (currentUrl) {
            currentUrl.innerText = url || 'No URL provided';
        }

        if (auto && url) {
            setTimeout(function() {
                performRedirect(url);
            }, 3000);
        }

        var redirectButton = document.getElementById('redirectButton');

        if (redirectButton) {
            redirectButton.addEventListener('click', function() {
                performRedirect(url || 'https://www.youtube.com/watch?v=dQw4w9WgXcQ'); // Redirect to URL or fallback URL
            });
            redirectButton.focus();
        }
    </script>
    
</body>
</html>
